<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GrassRobotics Common: ffmpeg::Decoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GrassRobotics Common
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ffmpeg</b></li><li class="navelem"><a class="el" href="classffmpeg_1_1Decoder.html">Decoder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ffmpeg::Decoder Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="decoder_8h_source.html">decoder.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ffmpeg::Decoder:</div>
<div class="dyncontent">
<div class="center"><img src="classffmpeg_1_1Decoder__inherit__graph.png" border="0" usemap="#ffmpeg_1_1Decoder_inherit__map" alt="Inheritance graph"/></div>
<map name="ffmpeg_1_1Decoder_inherit__map" id="ffmpeg_1_1Decoder_inherit__map">
<area shape="rect" id="node3" href="classffmpeg_1_1SyncDecoder.html" title="ffmpeg::SyncDecoder" alt="" coords="8,155,157,181"/>
<area shape="rect" id="node2" href="classffmpeg_1_1MediaDecoder.html" title="ffmpeg::MediaDecoder" alt="" coords="5,5,160,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ffmpeg::Decoder:</div>
<div class="dyncontent">
<div class="center"><img src="classffmpeg_1_1Decoder__coll__graph.png" border="0" usemap="#ffmpeg_1_1Decoder_coll__map" alt="Collaboration graph"/></div>
<map name="ffmpeg_1_1Decoder_coll__map" id="ffmpeg_1_1Decoder_coll__map">
<area shape="rect" id="node2" href="classffmpeg_1_1MediaDecoder.html" title="ffmpeg::MediaDecoder" alt="" coords="69,377,224,404"/>
<area shape="rect" id="node3" href="structffmpeg_1_1DecoderParameters.html" title="ffmpeg::DecoderParameters" alt="" coords="248,377,435,404"/>
<area shape="rect" id="node5" href="structffmpeg_1_1MediaFormat.html" title="ffmpeg::MediaFormat" alt="" coords="172,191,319,218"/>
<area shape="rect" id="node6" href="unionffmpeg_1_1FormatUnion.html" title="ffmpeg::FormatUnion" alt="" coords="173,95,318,121"/>
<area shape="rect" id="node7" href="structffmpeg_1_1AudioFormat.html" title="ffmpeg::AudioFormat" alt="" coords="5,5,149,32"/>
<area shape="rect" id="node8" href="structffmpeg_1_1VideoFormat.html" title="ffmpeg::VideoFormat" alt="" coords="173,5,317,32"/>
<area shape="rect" id="node9" href="structffmpeg_1_1SubtitleFormat.html" title="ffmpeg::SubtitleFormat" alt="" coords="341,5,496,32"/>
<area shape="rect" id="node10" title="STL class. " alt="" coords="377,288,457,315"/>
<area shape="rect" id="node11" title="STL class. " alt="" coords="354,184,481,225"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a05d8eb1d33e6a1e19fe92da06fc7792e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classffmpeg_1_1Decoder.html#a05d8eb1d33e6a1e19fe92da06fc7792e">init</a> (const <a class="el" href="structffmpeg_1_1DecoderParameters.html">DecoderParameters</a> &amp;params, DecoderInCallback &amp;&amp;in, std::vector&lt; <a class="el" href="structffmpeg_1_1DecoderMetadata.html">DecoderMetadata</a> &gt; *metadata) override</td></tr>
<tr class="separator:a05d8eb1d33e6a1e19fe92da06fc7792e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb0e1c21883ccd57c1692fccdd17745"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classffmpeg_1_1Decoder.html#aceb0e1c21883ccd57c1692fccdd17745">decode_all</a> (const DecoderOutCallback &amp;callback) override</td></tr>
<tr class="separator:aceb0e1c21883ccd57c1692fccdd17745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1838e1a5548671a7b19426bff8ff9b3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classffmpeg_1_1Decoder.html#a1838e1a5548671a7b19426bff8ff9b3c">shutdown</a> () override</td></tr>
<tr class="separator:a1838e1a5548671a7b19426bff8ff9b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f0672cd7855e99dbdd7ceceb634d51b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classffmpeg_1_1Decoder.html#a4f0672cd7855e99dbdd7ceceb634d51b">interrupt</a> () override</td></tr>
<tr class="separator:a4f0672cd7855e99dbdd7ceceb634d51b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade0d58a4ec3409697fd2cf4be0d22fa0"><td class="memItemLeft" align="right" valign="top"><a id="ade0d58a4ec3409697fd2cf4be0d22fa0"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><b>getPrintPrefix</b> ()</td></tr>
<tr class="separator:ade0d58a4ec3409697fd2cf4be0d22fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classffmpeg_1_1MediaDecoder"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classffmpeg_1_1MediaDecoder')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classffmpeg_1_1MediaDecoder.html">ffmpeg::MediaDecoder</a></td></tr>
<tr class="memitem:a20109fcef8c1c83eece3f30094ae4deb inherit pub_methods_classffmpeg_1_1MediaDecoder"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classffmpeg_1_1MediaDecoder.html#a20109fcef8c1c83eece3f30094ae4deb">decode</a> (<a class="el" href="structffmpeg_1_1DecoderOutputMessage.html">DecoderOutputMessage</a> *out, uint64_t timeoutMs)=0</td></tr>
<tr class="separator:a20109fcef8c1c83eece3f30094ae4deb inherit pub_methods_classffmpeg_1_1MediaDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a5b9a79eafa82de87c53f6ad1a43071 inherit pub_methods_classffmpeg_1_1MediaDecoder"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classffmpeg_1_1ByteStorage.html">ByteStorage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classffmpeg_1_1MediaDecoder.html#a7a5b9a79eafa82de87c53f6ad1a43071">createByteStorage</a> (size_t n)=0</td></tr>
<tr class="separator:a7a5b9a79eafa82de87c53f6ad1a43071 inherit pub_methods_classffmpeg_1_1MediaDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad152c1dd61dd75cf3ec7be278fb464ee"><td class="memItemLeft" align="right" valign="top"><a id="ad152c1dd61dd75cf3ec7be278fb464ee"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>logFunction</b> (void *avcl, int level, const char *cfmt, va_list vl)</td></tr>
<tr class="separator:ad152c1dd61dd75cf3ec7be278fb464ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7649c5b7fb01e4b1c0078253c9f3c065"><td class="memItemLeft" align="right" valign="top"><a id="a7649c5b7fb01e4b1c0078253c9f3c065"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>shutdownFunction</b> (void *ctx)</td></tr>
<tr class="separator:a7649c5b7fb01e4b1c0078253c9f3c065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3322cd6808a03dbf9cff9310abc05b1"><td class="memItemLeft" align="right" valign="top"><a id="ae3322cd6808a03dbf9cff9310abc05b1"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>readFunction</b> (void *opaque, uint8_t *buf, int size)</td></tr>
<tr class="separator:ae3322cd6808a03dbf9cff9310abc05b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af86ba7157e7639e5734a3248b20684d8"><td class="memItemLeft" align="right" valign="top"><a id="af86ba7157e7639e5734a3248b20684d8"></a>
static int64_t&#160;</td><td class="memItemRight" valign="bottom"><b>seekFunction</b> (void *opaque, int64_t offset, int whence)</td></tr>
<tr class="separator:af86ba7157e7639e5734a3248b20684d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bef3c442754207737be048ea3a3728"><td class="memItemLeft" align="right" valign="top"><a id="a50bef3c442754207737be048ea3a3728"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>initOnce</b> ()</td></tr>
<tr class="separator:a50bef3c442754207737be048ea3a3728"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5183a1bed3d86cc26f613b5771ccfd02"><td class="memItemLeft" align="right" valign="top"><a id="a5183a1bed3d86cc26f613b5771ccfd02"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getFrame</b> (size_t workingTimeInMs=100)</td></tr>
<tr class="separator:a5183a1bed3d86cc26f613b5771ccfd02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa100c64f1b3d4c17ef26a142b8d1bd53"><td class="memItemLeft" align="right" valign="top"><a id="aa100c64f1b3d4c17ef26a142b8d1bd53"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>push</b> (<a class="el" href="structffmpeg_1_1DecoderOutputMessage.html">DecoderOutputMessage</a> &amp;&amp;buffer)=0</td></tr>
<tr class="separator:aa100c64f1b3d4c17ef26a142b8d1bd53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44d1b232c21a5a3ba0a83a05560c10c"><td class="memItemLeft" align="right" valign="top"><a id="ab44d1b232c21a5a3ba0a83a05560c10c"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>onInit</b> ()</td></tr>
<tr class="separator:ab44d1b232c21a5a3ba0a83a05560c10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad53fb0e982cfd3f72be8a44fc6a0ad2c"><td class="memItemLeft" align="right" valign="top"><a id="ad53fb0e982cfd3f72be8a44fc6a0ad2c"></a>
<a class="el" href="structffmpeg_1_1DecoderParameters.html">DecoderParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><b>params_</b></td></tr>
<tr class="separator:ad53fb0e982cfd3f72be8a44fc6a0ad2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class uses FFMPEG library to decode media streams. Media bytes can be explicitly provided through read-callback or fetched internally by FFMPEG library </p>

<p class="definition">Definition at line <a class="el" href="decoder_8h_source.html#l00015">15</a> of file <a class="el" href="decoder_8h_source.html">decoder.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aceb0e1c21883ccd57c1692fccdd17745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceb0e1c21883ccd57c1692fccdd17745">&#9670;&nbsp;</a></span>decode_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ffmpeg::Decoder::decode_all </td>
          <td>(</td>
          <td class="paramtype">const DecoderOutCallback &amp;&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Polls available decoded bytes from decoder, till EOF or error </p>

<p>Implements <a class="el" href="classffmpeg_1_1MediaDecoder.html#acaf4668d2c876ede90eaa3a012b7146d">ffmpeg::MediaDecoder</a>.</p>

<p class="definition">Definition at line <a class="el" href="decoder_8cpp_source.html#l00633">633</a> of file <a class="el" href="decoder_8cpp_source.html">decoder.cpp</a>.</p>

</div>
</div>
<a id="a05d8eb1d33e6a1e19fe92da06fc7792e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d8eb1d33e6a1e19fe92da06fc7792e">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ffmpeg::Decoder::init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structffmpeg_1_1DecoderParameters.html">DecoderParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DecoderInCallback &amp;&amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structffmpeg_1_1DecoderMetadata.html">DecoderMetadata</a> &gt; *&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes media decoder with parameters, calls callback when media bytes are available. Media bytes get fetched internally from provided URI or invokes provided input callback to get media bytes. Input callback must be empty for the internal media provider Caller can provide non-null pointer for the input container if headers to obtain the streams metadata (optional) </p>

<p>Implements <a class="el" href="classffmpeg_1_1MediaDecoder.html#a1e65150d20d7540f8e35ce2d9f13017f">ffmpeg::MediaDecoder</a>.</p>

<p class="definition">Definition at line <a class="el" href="decoder_8cpp_source.html#l00217">217</a> of file <a class="el" href="decoder_8cpp_source.html">decoder.cpp</a>.</p>

</div>
</div>
<a id="a4f0672cd7855e99dbdd7ceceb634d51b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f0672cd7855e99dbdd7ceceb634d51b">&#9670;&nbsp;</a></span>interrupt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ffmpeg::Decoder::interrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Interrupts whatever decoder is doing at any time </p>

<p>Implements <a class="el" href="classffmpeg_1_1MediaDecoder.html#a165ba6847844ec6057ffcb6b7379f2af">ffmpeg::MediaDecoder</a>.</p>

<p class="definition">Definition at line <a class="el" href="decoder_8cpp_source.html#l00433">433</a> of file <a class="el" href="decoder_8cpp_source.html">decoder.cpp</a>.</p>

</div>
</div>
<a id="a1838e1a5548671a7b19426bff8ff9b3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1838e1a5548671a7b19426bff8ff9b3c">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ffmpeg::Decoder::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stops calling callback, releases resources </p>

<p>Implements <a class="el" href="classffmpeg_1_1MediaDecoder.html#a844a205a22a365e6c8945e0a54ca7b66">ffmpeg::MediaDecoder</a>.</p>

<p class="definition">Definition at line <a class="el" href="decoder_8cpp_source.html#l00429">429</a> of file <a class="el" href="decoder_8cpp_source.html">decoder.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/jose/ros_ws/src/gr_perception/gr_ml/nb/vision/torchvision/csrc/cpu/decoder/<a class="el" href="decoder_8h_source.html">decoder.h</a></li>
<li>/home/jose/ros_ws/src/gr_perception/gr_ml/nb/vision/torchvision/csrc/cpu/decoder/<a class="el" href="decoder_8cpp_source.html">decoder.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
