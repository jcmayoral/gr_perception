<launch>
  <arg name="global_frame" default="base_link" />
  <arg name="color_info" default="/camera2/color/camera_info" />
  <arg name="depth_info" default="/camera2/depth/camera_info" />

  <node pkg="nodelet" type="nodelet" name="depth_processing_nodelet"  args="manager" output="screen">
    <param name="global_frame" value="$(arg global_frame)" />
    <remap from="/camera/color/image_raw" to="/camera2/color/image_raw"/>
    <remap from="/camera/color/camera_info" to="$(arg color_info)"/>
    <remap from="/camera/depth/image_rect_raw" to="/camera2/depth/image_rect_raw"/>
    <remap from="/camera/depth/camera_info" to="$(arg depth_info)"/>
  </node>
  <node pkg="nodelet" type="nodelet" name="depth_nodelet" args="load gr_depth_processing/MyNodeletClass depth_processing_nodelet" output="screen"/>

 <node pkg="tf2_ros" type="static_transform_publisher" name="tf_broadcaster_base_camera" args="0 0 0 0 0 1.5755 base_link camera_depth_optical_frame" />
</launch>
